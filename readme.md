# Задача
Есть веб-api, непрерывно принимающее события (ограничимся 10000 событий) для группы аккаунтов (1000 аккаунтов)
и складывающее их в очередь. Каждое событие связано с определённым аккаунтом и важно, чтобы события аккаунта
обрабатывались в том же порядке, в котором поступили в очередь. Обработка события занимает 1 секунду
(эмулировать с помощью sleep). Сделать обработку очереди событий максимально быстрой на данной конкретной машине.
Код писать на PHP. Можно использовать фреймворки и инструменты такие как RabbitMQ, Redis, MySQL и т.д.

# Установка

```shell
# Склонировать и настроить под себя .env
cp .env.example .env
# Поднять проект
docker-compose up
# Затем выполнить
composer install
```

# Принцип решения

**EstimateController** по url ```/api/events``` принимает json в формате ``{"0": "{"account_id": "1", "event_data": "string"}...}``
и отправляет полученные данные в **RabbitMQ**. При запуске приложения запускается 4 воркера, которые обрабатывают события из **RabbitMQ**.
Для того, чтобы события по аккаунтам обрабатывались последовательно применяется лок кэша с использованием **Redis**. 
Если какой-то из воркеров захватил аккаунт №1 - другие воркеры при захвате этого же аккаунта будут ждать, пока первый закончит обработку.
